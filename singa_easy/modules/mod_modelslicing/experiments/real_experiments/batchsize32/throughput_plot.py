



import matplotlib.pyplot as plt
import numpy


def drawBasic(tlist, x, slicerate):

     y = []
     label = []
     pots = []

     a = [257.41768263792636, 787.5366247108649, 1029.0789859200904, 1420.5295295389033, 1545.1750450477227,
          1748.7077278026322, 1666.3861705475022, 1809.3848665812952, 1966.3621762641949, 1952.715010864258,
          2043.818206862432, 2146.04799682895, 2170.7815081898016, 2043.9179292940346, 2079.15253166444,
          2164.573051044389, 2079.9140185444476, 2146.4781867887045, 2049.7933800420346, 2182.4227302136305,
          2221.7114538349697, 2209.272904361783, 2276.298692369725, 2193.2239785454503, 2218.496605632405,
          2221.355300179311, 2146.865069485718, 2198.3561781104754, 2176.4662330781466]
     b = [163.24603948819967, 561.1717610552641, 859.956346129075, 963.4133627319258, 1114.0633746151461,
          1182.9900451906058, 1218.7846035986768, 1298.7831981746326, 1309.8079884453937, 1397.3653439178695,
          1449.280084008615, 1415.2286297181067, 1415.128547492436, 1428.805525445696, 1453.4118465690945,
          1460.774567569266, 1455.3752859735607, 1497.2295736269891, 1487.8443156410437, 1494.273839705227,
          1552.3763423222001, 1523.3580253234102, 1562.9405715365604, 1550.649827180652, 1554.3949258864998,
          1558.860824300858, 1536.3198399343385, 1543.0055354805731, 1561.1970005220894]
     c = [108.68229291097664, 413.8087379474978, 523.3891119121105, 626.5905244052971, 695.7181766007491,
          760.936050389841, 799.6072630574921, 827.7093230179286, 906.7808737579253, 882.1386092086418,
          912.2945769125769, 935.175802400657, 955.7939264524476, 946.5223678649205, 948.6661331799504,
          951.0367304542093, 1005.2314997507641, 970.7669446632285, 1001.6964350487784, 1006.3141074630535,
          1035.0743794481562, 1036.3492067904785, 1032.0801353337004, 1014.4698653937608, 1030.9579578474727,
          998.3008297436667, 1045.1042660391047, 1070.219801160439, 1025.3650476116559]
     d = [74.34612237385242, 290.71148544513994, 414.201571141111, 447.02029002357375, 523.4392726628363,
          589.0954602366132, 620.4406235435486, 657.9949824603309, 636.9154430638736, 677.7545450440261,
          723.2404113669868, 744.1393724540313, 738.9248470445526, 733.610934320827, 721.5237958466189,
          761.8757857583498, 767.2450444254532, 778.8229729341602, 745.5764293416889, 789.9092692210572,
          781.6341077786218, 756.8942816976563, 761.5181393938227, 796.6691102062214, 815.0084300166036,
          811.2086964769516, 778.9031526049833, 814.8338820816299, 777.6327776521559]
     y.append(d)
     y.append(c)
     y.append(b)
     y.append(a)

     for k in range(len(tlist)):

          label.append('sub-model with $r_i$ = ' + str(slicerate[k]) + ", $t_i=$" + str(tlist[k]) + "$s$")

          tmp = []
          for i in range(len(x)):
               tmp.append([x[i], y[k][i]])
          pots.append(tmp)

     return y, label, pots



x = [1, 5, 10, 20, 30, 40, 50, 60, 70, 80, 100, 120, 140, 150, 160, 170, 180, 200, 250, 300, 350, 400, 450, 550, 600, 650, 700, 750, 800]


y, label, pots = drawBasic([0.0126, 0.0071, 0.00315, 0.00084], x, [1, 0.75, 0.5, 0.25])
print(y)

fig=plt.figure(figsize=(10, 10))
ax=fig.add_subplot(111)
ax.axis([0, 800, 0, 2500])

line_sym = ["-", "--", "-.", "-"]
pot_sym = ["o", ">", "<", "x"]
colors = ['blue', 'brown', 'aqua', 'green']

for i in range(len(y)):
     ax.plot(x, y[i], line_sym[i], marker=pot_sym[i], ms=10, label=label[i], linewidth=2, color=colors[i])

# y_sche = [79.36507936507937, 79.36507936507937, 79.36507936507937, 79.36507936507937, 79.36507936507937, 79.36507936507937, 79.36507936507935, 100.12515644555694, 125.14078338130396, 150.02625459455405, 175.07440662281468, 200.1350911865509, 225.2083176938668, 250.04688379071075, 275.1203651597574, 300.20639189442744, 350.103280467738, 375.03187770960534, 400.18108193957767, 425.1030874987185, 450.01462547532793, 475.1900760304122, 500.0950180534302, 525.2928507643011, 600.3031530923116, 625.1844294066749, 650.0552546966492, 675.3055757730373, 700.1697911743597, 750.3001200480192, 800.4462487836969, 875.442098259621, 900.265578345612, 925.0786316836931, 950.4300696064969, 975.2364948500011, 1000.0325010562843, 1025.4101640656263, 1075.5996468030926, 1175.346727284549, 1190.4761904761904, 1190.4761904761904]
# ax.plot(x, y_sche, "--", marker='*', ms=10, label="combination of sub-models", linewidth=2)


plt.legend(fontsize=15)
plt.xticks(fontsize=20)
plt.yticks(fontsize=20)
ax.set_xlabel('Ingesting rate(#examples/second)', fontsize=20)
ax.set_ylabel('Throughput(examples processed/second)', fontsize=20)
plt.grid(linestyle='-.')
plt.savefig('./throughput.jpg')
plt.show()
# 每妙发送500条
