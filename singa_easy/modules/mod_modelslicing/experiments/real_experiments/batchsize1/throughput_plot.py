



import matplotlib.pyplot as plt
import numpy


def drawBasic(tlist, x, slicerate):

     y = []
     label = []
     pots = []

     y.append([4.383428238719458, 14.276946528191258, 28.72510140198359, 35.83290517225857, 40.60287099820009,
               53.626150168382765, 50.22799533896911, 64.75953153050314, 60.16664910406557, 68.00370227704185,
               74.45636934587243, 79.2270596317773, 76.90657091620997, 95.80642958227837, 71.54814151987222,
               88.06909418140395, 66.84119376366057, 67.05259882327542, 85.8850978389619, 76.08361386453248,
               82.1531151949121, 81.82938523137018, 88.33568340499843, 84.65511320835385])
     y.append([6.597799317407243, 22.953830222966342, 36.39319495539068, 44.358090603956015, 57.432725469416795,
               54.63381767148432, 60.361895009175576, 66.49189861649383, 64.3859413622227, 71.89779080967824,
               73.48851001136961, 78.59571286326658, 74.4840010263262, 98.06979165432017, 79.71950952151455,
               75.27251682108077, 71.26810480511693, 73.01063865004005, 79.27855923187317, 72.7150704675575,
               74.53728268526312, 83.01455953312464, 80.37729871837027, 77.9591592494808])
     y.append([11.943901062596403, 26.826305204963163, 46.93328266845747, 48.858871695485846, 65.07762466603768,
               59.077962083731634, 64.26474060720453, 71.34880497882622, 68.13768694295896, 74.05721553702126,
               73.32968738584918, 79.97296679995829, 78.43149758966099, 96.15107702766396, 71.46934440834426,
               75.30482647706755, 74.90334971575042, 76.77169263128363, 76.841436144117, 83.15596433545633,
               81.57778992993076, 81.18293477582809, 86.78395876561335, 93.67847190736482])
     y.append([10.494525867566662, 24.92611517370605, 36.23701058237199, 57.03353505569015, 63.31853147096236,
               66.83770013540075, 65.54681784681745, 78.17559220661866, 69.03742625398316, 74.52726589451882,
               76.09780414949023, 92.96077191926034, 86.1366704430391, 88.67294672669576, 83.20887227805197,
               71.69324720129609, 76.12424661772125, 74.51844664198107, 79.09983674875923, 81.53371254926735,
               81.6432904777483, 81.92540611674035, 88.03664761883678, 88.36796209878423])

     for k in range(len(tlist)):

          label.append('sub-model with $r_i$ = ' + str(slicerate[k]) + ", $t_i=$" + str(tlist[k]) + "$s$")

          tmp = []
          for i in range(len(x)):
               tmp.append([x[i], y[k][i]])
          pots.append(tmp)

     return y, label, pots



x = [1, 5, 10, 20, 30, 40, 50, 60, 70, 80, 100, 120, 140, 150, 160, 170, 180, 200, 250, 300, 350, 400, 450, 550]


y, label, pots = drawBasic([0.0126, 0.0071, 0.00315, 0.00084], x, [1, 0.75, 0.5, 0.25])
print(y)

fig=plt.figure(figsize=(10,10))
ax=fig.add_subplot(111)
ax.axis([0, 550, 0, 100])

line_sym = ["-", "--", "-.", "-"]
pot_sym = ["o", ">", "<", "x"]
colors = ['blue', 'brown', 'aqua', 'green']

for i in range(len(y)):
     ax.plot(x, y[i],line_sym[i], marker=pot_sym[i], ms=10, label=label[i], linewidth=2, color=colors[i])

# y_sche = [79.36507936507937, 79.36507936507937, 79.36507936507937, 79.36507936507937, 79.36507936507937, 79.36507936507937, 79.36507936507935, 100.12515644555694, 125.14078338130396, 150.02625459455405, 175.07440662281468, 200.1350911865509, 225.2083176938668, 250.04688379071075, 275.1203651597574, 300.20639189442744, 350.103280467738, 375.03187770960534, 400.18108193957767, 425.1030874987185, 450.01462547532793, 475.1900760304122, 500.0950180534302, 525.2928507643011, 600.3031530923116, 625.1844294066749, 650.0552546966492, 675.3055757730373, 700.1697911743597, 750.3001200480192, 800.4462487836969, 875.442098259621, 900.265578345612, 925.0786316836931, 950.4300696064969, 975.2364948500011, 1000.0325010562843, 1025.4101640656263, 1075.5996468030926, 1175.346727284549, 1190.4761904761904, 1190.4761904761904]
# ax.plot(x, y_sche, "--", marker='*', ms=10, label="combination of sub-models", linewidth=2)


plt.legend(fontsize=15)
plt.xticks(fontsize=20)
plt.yticks(fontsize=20)
ax.set_xlabel('Ingesting rate(#examples/second)', fontsize=20)
ax.set_ylabel('Throughput(examples processed/second)', fontsize=20)
plt.grid(linestyle='-.')
plt.savefig('./throughput.jpg')
plt.show()
# 每妙发送500条
